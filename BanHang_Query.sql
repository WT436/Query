--cau lenh :
--chi muc index (khi khoi tao da co chi muc pk roi nen chi can chi muc cho cac phan can tim kiem )
--kiem tra su ton tai cua mot tai khoan 
go--***********************************************************************************************************************************
create function check_LoginAccount
(
@NameUser varchar(50),
@PassUser varchar(100),
@HaskPass varchar(100),
@Email varchar(300),
@delet bit ,
@phanQuyen int
)
returns int
begin
declare @trave int
    if(exists( select NameUser from LoginAccount where LoginAccount.NameUser = @NameUser))
		begin
			if(exists( select NameUser from LoginAccount where LoginAccount.PassUser= @PassUser))
				begin
					if(exists( select NameUser from LoginAccount where LoginAccount.HaskPass= @HaskPass))
						begin
							if(exists( select NameUser from LoginAccount where LoginAccount.delet= @delet))
								begin
									set @trave =4
								end
							else set @trave =3 --tai khoan da xoa
						end
					else set @trave =2 --haspass khong chinh xac
				end
			else set @trave =1 -- mat khau khong ton tai
		end
	else set @trave =0 --tai khoan khong ton tai

return @trave
end
go--***********************************************************************************************************************************
--tao moi tai khoan
create function Get_LoginAccount 
(
@NameUser varchar(50),
@PassUser varchar(100),
@HaskPass varchar(100),
@Email varchar(300),
@delet bit ,
@phanQuyen int
)
returns  int
begin
	declare @trave int 
	insert into 		
end
go--***********************************************************************************************************************************
select Product.id,Product.ten,Product.gia,Product.soLuong-Product.soLuongconlai as soluongconlai
, ImageProduct.anh1,Evaluate.sosao, ThemeProduct.id
from Product 
inner join ImageProduct on Product.ImageProduct = ImageProduct.id
inner join categoryProduct on Product.categoryProduct= categoryProduct.id
inner join ThemeProduct on categoryProduct.Theme = ThemeProduct.id
left join (select sum(sosao)as sosao, Product  from Evaluate group by Product) as Evaluate on Product.id = Evaluate.Product
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************
go--***********************************************************************************************************************************